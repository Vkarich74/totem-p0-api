FINANCIAL CORE FULL TEST START

=== CREATE WALLETS ===
[DB] MODE: SQLITE

STDERR:
file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:15
  const client = await pool.connect();
                            ^

TypeError: Cannot read properties of null (reading 'connect')
    at getOrCreateWallet (file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:15:29)
    at file:///C:/Users/Vitaly/Desktop/odoo-local/[eval1]:3:29
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:268:26)
    at async ModuleLoader.executeModuleJob (node:internal/modules/esm/loader:265:20)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0


=== PAYMENT PAID ===
[DB] MODE: SQLITE

STDERR:
file:///C:/Users/Vitaly/Desktop/odoo-local/services/payment/payment.service.js:18
  if (!targetWalletId) throw new Error("targetWalletId required");
                             ^

Error: targetWalletId required
    at createPayment (file:///C:/Users/Vitaly/Desktop/odoo-local/services/payment/payment.service.js:18:30)
    at file:///C:/Users/Vitaly/Desktop/odoo-local/[eval1]:3:26
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:268:26)
    at async ModuleLoader.executeModuleJob (node:internal/modules/esm/loader:265:20)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0


=== CHECK BALANCE AFTER PAYMENT ===
[DB] MODE: SQLITE

STDERR:
file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:57
  const res = await pool.query(
                         ^

TypeError: Cannot read properties of null (reading 'query')
    at getWalletBalance (file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:57:26)
    at file:///C:/Users/Vitaly/Desktop/odoo-local/[eval1]:3:17
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:268:26)
    at async ModuleLoader.executeModuleJob (node:internal/modules/esm/loader:265:20)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0


=== FEE ENGINE ===
[DB] MODE: SQLITE
{
  "totalFeeCents": 1500,
  "netAmountCents": 8500,
  "breakdown": [
    {
      "ruleId": 1,
      "feeCents": 1500
    }
  ]
}


=== PAYOUT REQUEST ===
[DB] MODE: SQLITE

STDERR:
file:///C:/Users/Vitaly/Desktop/odoo-local/services/payout/payout.service.js:15
  if (!walletId) throw new Error("walletId required");
                       ^

Error: walletId required
    at requestPayout (file:///C:/Users/Vitaly/Desktop/odoo-local/services/payout/payout.service.js:15:24)
    at file:///C:/Users/Vitaly/Desktop/odoo-local/[eval1]:3:25
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:268:26)
    at async ModuleLoader.executeModuleJob (node:internal/modules/esm/loader:265:20)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0


=== CHECK BALANCE AFTER PAYOUT ===
[DB] MODE: SQLITE

STDERR:
file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:57
  const res = await pool.query(
                         ^

TypeError: Cannot read properties of null (reading 'query')
    at getWalletBalance (file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:57:26)
    at file:///C:/Users/Vitaly/Desktop/odoo-local/[eval1]:3:17
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:268:26)
    at async ModuleLoader.executeModuleJob (node:internal/modules/esm/loader:265:20)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0


=== SERVICE INVOICE ===
[DB] MODE: SQLITE

STDERR:
file:///C:/Users/Vitaly/Desktop/odoo-local/services/invoice/service-invoice.service.js:20
  if (!sourceWalletId) throw new Error("sourceWalletId required");
                             ^

Error: sourceWalletId required
    at createServiceInvoice (file:///C:/Users/Vitaly/Desktop/odoo-local/services/invoice/service-invoice.service.js:20:30)
    at file:///C:/Users/Vitaly/Desktop/odoo-local/[eval1]:3:7
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:268:26)
    at async ModuleLoader.executeModuleJob (node:internal/modules/esm/loader:265:20)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0


=== FINAL BALANCES ===
[DB] MODE: SQLITE

STDERR:
file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:57
  const res = await pool.query(
                         ^

TypeError: Cannot read properties of null (reading 'query')
    at getWalletBalance (file:///C:/Users/Vitaly/Desktop/odoo-local/services/wallet/wallet.service.js:57:26)
    at file:///C:/Users/Vitaly/Desktop/odoo-local/[eval1]:3:44
    at ModuleJob.run (node:internal/modules/esm/module_job:413:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:268:26)
    at async ModuleLoader.executeModuleJob (node:internal/modules/esm/loader:265:20)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.13.0

FINANCIAL CORE FULL TEST END
RESULT: CHECK LOG MANUALLY
